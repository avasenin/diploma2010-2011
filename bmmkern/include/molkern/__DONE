
091010. - Переупорядочен вывод после обработки .pdb файла. Все атомы водорода
размещаются рядом с атомами, с которыми они связаны. Это сжимает размер таблиц
связности, которые нужно передавать функции dU__dX(PAIRS), чтобы избежать
счета 1-2, 1-3 и 1-4 взаимодействий. Теперь для протеинов, такие таблицы
гарантированно вмещаются в 32 бита.
- Совместил размещение атомов в гриде со счетом пар в единые функции.
Скорость счета protein.ent + water упала в 120 раз в релизе по сравнению
с предыдущим кодом.
10 итераций считаются 14 минут.
10 итераций считаются 36 секунд (091109, Intel-компилятор)
10 итераций считаются 25 секунд (091110, Intel-компилятор) // сделано разбиение на подъячейки
10 итераций считаются 20 секунд (091113, Intel-компилятор) // снято дублирование по прохождению (под)ячеек

----------------------------- with SSE -----------------------------------------
10 итераций считаются 23 секунд (091119, Intel-компилятор) // SSE code

10 итераций считаются 23 секунд (091119, gcc-компилятор) // SSE code
10 итераций считаются 16 секунд (091120, Intel-компилятор) // SSE code (большая ячейка)

10 итераций считаются 14 секунд (091120, gcc-компилятор) // SSE code (большая ячейка)
10 итераций считаются 12 секунд (091125, Intel-компилятор) // SSE code (большая ячейка)

10 итераций считаются 13 секунд (091126, gcc-компилятор) // SSE code (большая ячейка)
10 итераций считаются 11 секунд (091126, Intel-компилятор) // SSE code (большая ячейка)

10 итераций считаются 4.5 секунд (100209, gcc-компилятор) // SSE code (ячейка 4x4x4)

091011. Алгоритм создания таблицы коннектов для каждого атома сделан. И алгоитмы
для работы с этими таблицами тоже.

091012. Переписан и упрощен код для расчета парных взаимодействий.
091014. Введен ящик по умалчиванию [3,3,3] и расширение ящика, если размеры
молекулы превышают ящик.

091018. Код для учета з-на Ньютона на параллельных системах.

091023. Сделан перевод всей внутренних единиц измерения программы на AUE
[атомная единица энергии = а.е.м * A**2 / ps**2]. Данаая единица энергии не
требует дополнительных неочевидных преобразований от производной по энергии
dU__dX к силе и затем к ускорению. Теперь ускорение считается в естественных
для него единицах [A / ps**2], а не в [kJ / (mol *A * а.е.м.)].
Результаты энергии выводятся в расчете на одну степень свободы, чтобы убрать
зависимость от масштаба системы.

091030. Сделан формат bmm для сохранние статистики.

091123. Сделан код для генерации неперекрывающихся пар ячеек региона.
Размер минимального региона увеличен до {4,4,4}.

091124. Сделана SSE реализация функций dU__dX(PAIR), что увеличило скорость
расчетов более, чем в 4 раза (с учетом удаления дублирования по счету).

091125. Перенесены массивы сил LJF внутрь грида (в LJAtom). Это позволяет
делать накопление сил без обращения ко внешнему от ячеек массиву LJF.

091125. Обнулил параметры eps и поставил ненулевые sigma для hw и ho, чтобы
избежать делений на 0 в dU__dX. Предполагалось, что деления на 0 вызывают
замедления из-за вычислений NAN. Но время практически не изменилось.

091130. Запустил счет на кластере NKS-30T. Счет той же программы идет 4 сек.
Сделал многопоточность (4), скорость счета не изменилась.
Скорость счета возрастает, только если размер кластера порядка 1 млн. атомов.
Ускорение приблизительное вдвое, а не 4 раза. Значит высоки затраты на
организацию потоков.

091202. Ускорил счет на кластере (с 3.96 -> 2.19) для теста путем
инициализации потоков один раз на задчу.

100209. Самоконнект в таблице коннектов атомов убрал, что удаляет одну операцию
в функции определения контактов.

100219. Для всего проекта установлена мода округления плавающих чисел ВНИЗ.
Это для того, чтобы не устанавливать ее постоянно при вставке координат в грид (частая операция).
Если нужна другая мода округления, ее нужно вызывать через функции ceil, floor, round.
(ERROR!!!! 100610) Мода округления для всего проект приводит к тому, что стандартные математические
функции (cos, sin) считаются неверно. Исправлено, теперь мода устанавливается только для функции
расчета невалентных взаимодействий. 


100326. Закончил разработку оптимизатора по поиску переходного состояния. Для декартовых
ккординат такой поиск оказывается катастрофически неэффективным даже для малых систем.
Система бросается на барьер и с него без заметного продвижения в сторону TS. 

100329. Убрал торсионы, находящиеся внутри циклов (бензольных колец и пятичленников).
